/* GLOBAL FIX — prevents right mobile clipping */
html, body {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
}

* {
    box-sizing: border-box;
    -webkit-text-size-adjust: 100%;
}

/* =========================
 ENVELOPE STAGE
========================= */

.envelope-stage {
    position: relative;
    width: min(760px, 90vw);
    min-height: clamp(340px, 48vw, 500px);
    margin: clamp(0px, 1.2vw, 12px) auto 0;
    padding: clamp(18px, 2.8vw, 28px) clamp(16px, 3vw, 26px) clamp(42px, 5.4vw, 68px);
    display: grid;
    place-items: center;
    border-radius: clamp(34px, 6vw, 44px);
    background: color-mix(in srgb, var(--glass-bg) 96%, transparent);
    border: 1px solid color-mix(in srgb, var(--theme-color-accent, #d2b16a) 38%, transparent);
    box-shadow: 0 28px 54px color-mix(in srgb, var(--theme-color-accent, #d2b16a) 18%, transparent), 0 0 0 1px color-mix(in srgb, var(--theme-color-accent, #d2b16a) 10%, transparent);
    backdrop-filter: blur(20px);
    overflow: hidden;
    isolation: isolate;
}

/* Halo / Texture / Sparkles — unchanged, keeping as is */


/* =========================
 WAX BUTTON / SEAL
========================= */

.wax-button {
    position: absolute;
    left: 50%;
    top: 50%;
    z-index: 3;
    border: none;
    background: transparent;
    cursor: pointer;
    padding: 0;
    transition: filter 0.3s ease;
    transform: translate(-50%, -50%);
}

.waxseal {
    position: relative;
    width: clamp(72px, 9.4vw, 104px);
    filter: drop-shadow(0 22px 38px color-mix(in srgb, var(--theme-color-accent, #d2b16a) 52%, rgba(0, 0, 0, 0)));
    transition: transform 0.35s ease, filter 0.35s ease;
}


/* =========================
 INVITE CARD
========================= */

.invite-card-wrapper {
    position: absolute;
    bottom: clamp(-90px, -7vw, -64px);
    display: grid;
    place-items: center;
    width: 100%;
    max-width: 100%;
    pointer-events: none;
    overflow: hidden;
}

.invite-card {
    width: min(540px, 84vw);
    border-radius: clamp(28px, 4.4vw, 34px);
    box-shadow: 0 46px 90px color-mix(in srgb, var(--theme-color-accent, #d2b16a) 20%, transparent);
    background: color-mix(in srgb, var(--theme-color-background, #f8f6f2) 92%, rgba(255, 255, 255, 0.96));
    border: 1px solid color-mix(in srgb, var(--theme-color-accent, #d2b16a) 30%, transparent);
    object-fit: cover;
}

/* =========================
 ✅ MOBILE FIXES (MASTER BLOCK)
========================= */

@media (max-width: 720px) {
    .envelope-stage {
        width: 100vw;
        max-width: 100vw;
        overflow: hidden;
        padding: 24px 8px 120px;
    }

    .envelope-stage__stack {
        max-width: 100%;
        overflow: hidden;
    }

    .envelope-shell {
        width: min(96vw, 480px);
        max-width: 96vw;
    }

    .wax-button {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(.90);
    }

    .waxseal {
        width: clamp(110px, 30vw, 160px);
    }

    .invite-card {
        width: min(92vw, 420px);
    }

    .invite-card-wrapper {
        max-width: 100%;
        overflow: hidden;
    }

    .header-container,
    .invite-header {
        max-width: 100vw !important;
        overflow: hidden !important;
    }
}

/* XS Phones (iPhone SE etc) */
@media (max-width: 520px) {
    .envelope-stage {
        padding: 26px 12px 112px;
        border-radius: 30px;
    }

    .waxseal {
        width: clamp(90px, 34vw, 140px);
    }

    .invite-card {
        width: min(92vw, 390px);
    }
}

/* Prevent double override */
.envelope-shell {
    width: min(94vw, 440px) !important;
}

.invite-card {
    width: min(94vw, 380px) !important;
}

/* Extra padding iPhone Safari bug */
@media (max-width: 600px) {
    .invite-card-container {
        padding-bottom: 40vh;
    }
}
